---
title: "online bipartite matching, in batches"
date: 2024-11-23T23:43:50+08:00
draft: false
---

This post follows up on the **Online Bipartite Matching** series, specifically building on the primal-dual techniques discussed in [Part II](/posts/online_matching_1/). Recently, I attended a talk by Yiding Feng at SJTU that introduced a fascinating application of these techniques in a broader context, as detailed in their [paper](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3689448).

> ## Batching and Optimal Multi-stage Bipartite Allocations
>
> Yiding Feng and Rad Niazadeh
>
> In several applications of real-time matching of demand to supply in online marketplaces, the platform allows for some latency to batch the demand and improve the efficiency of the resulting matching. Motivated by these applications, we study the optimal trade-off between batching and inefficiency in the context of designing robust online allocations. As our base model, we consider K-stage variants of the classic vertex weighted bipartite b-matching in the adversarial setting, where online vertices arrive stage-wise and in K batches — in contrast to online arrival. Our main result for this problem is an optimal 1−(1−1/K)^K- competitive (fractional) matching algorithm, improving the classic (1 − 1/e) competitive ratio bound known for its online variant (Mehta et al., 2007; Aggarwal et al., 2011). We also extend this result to the rich model of multi-stage configuration allocation with free-disposals (Devanur et al., 2016), which is motivated by the display advertising application in the context of video streaming platforms.
>
> Our main technique at high-level is developing algorithmic tools to vary the trade-off between “greedy- ness” and “hedging” of the matching algorithm across stages. We rely on a particular family of convex- programming based matchings that distribute the demand in a specifically balanced way among supply in different stages, while carefully modifying the balancedness of the resulting matching across stages. More precisely, we identify a sequence of polynomials with decreasing degrees to be used as strictly concave regularizers of the maximum weight matching linear program to form these convex programs. At each stage, our fractional multi-stage algorithm returns the corresponding regularized optimal solution as the matching of this stage (by solving the convex program). By providing structural decomposition of the underlying graph using the optimal solutions of these convex programs and recursively connecting the regularizers together, we develop a new multi-stage primal-dual framework to analyze the competitive ratio of this algorithm. We further show this algorithm is optimal competitive, even in the unweighted case, by providing an upper-bound instance in which no online algorithm obtains a competitive ratio better than 1−(1−1/K)^K. For the extension to multi-stage configuration allocation, we introduce a novel extension of our regularized convex program that provides separate regularization at different ”price levels”. Despite the lack of a relevant graph decomposition in this extension, in contrast to our base model, we show how we can directly use convex duality to set up a primal-dual analysis framework for our new algorithm.
