<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>train timetabling problem | ariana&#39;s blog</title>
<meta name="keywords" content="">
<meta name="description" content="just for fun but it turns out to be more than fun. i attended an introductory talk on train scheduling in the neighboring department. Here are some key takeaways">
<meta name="author" content="">
<link rel="canonical" href="//localhost:1313/posts/trains/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="//localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="//localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="//localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="//localhost:1313/posts/trains/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>




<meta property="og:url" content="//localhost:1313/posts/trains/">
  <meta property="og:site_name" content="ariana&#39;s blog">
  <meta property="og:title" content="train timetabling problem">
  <meta property="og:description" content="just for fun but it turns out to be more than fun. i attended an introductory talk on train scheduling in the neighboring department. Here are some key takeaways">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-10-10T18:37:39+08:00">
    <meta property="article:modified_time" content="2023-10-10T18:37:39+08:00">
    <meta property="og:image" content="//localhost:1313/data_vis/spiderman.jpeg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="//localhost:1313/data_vis/spiderman.jpeg">
<meta name="twitter:title" content="train timetabling problem">
<meta name="twitter:description" content="just for fun but it turns out to be more than fun. i attended an introductory talk on train scheduling in the neighboring department. Here are some key takeaways">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "//localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "train timetabling problem",
      "item": "//localhost:1313/posts/trains/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "train timetabling problem",
  "name": "train timetabling problem",
  "description": "just for fun but it turns out to be more than fun. i attended an introductory talk on train scheduling in the neighboring department. Here are some key takeaways",
  "keywords": [
    
  ],
  "articleBody": "Apologize for the deviation from my work this afternoon, I attended an introductory talk on train scheduling in the neighboring department. Here are some key takeaways:\nThis problem is known as the high level “train timetabling problem” (TTP) and lower level intermediate “train platform problem” (TPP). This is not just a profitable business, but a complex issue that affects the welfare of millions of travelers. The primary objectives here are service level, operational cost, safety issue. The challenge lies in the sheer scale of the problem, with huge number of complicated constraints to consider, model and solve, encompassing both the train timetabling problem (TTP) and the train platform problem (TPP). Unlike metro planning, where trains uniformly stop at every station, the complexity of train scheduling arises from the multitude of schedules and train types and the various specific issue related to, well, driving such high-speed vehicle.\nit’s like planning your daily schedule. it’s OK to test and hypothetically picture exploding the deadlines. but you’ll have to get the shits done no matter what\nInterestingly, this morning, I was listening to a podcast about the operational and revenue management of airline companies, and now, in the afternoon, we’re delving into trains. It’s noteworthy that OR/OM thrive in hyper-scale industries. The less human interest a problem generates and the more mundane it appears, the greater the room for profit through automated optimization.\nNaturally, this problem leads to Mixed-Integer Programming (MIP). One approach to optimization is the Job Shop model, which the schedule in a natural manner, optimizes from the highest level and then sends the schedule to each station to assess feasibility at a more intermediate scale. During this stage, additional low-level constraints are integrated into the system. This algorithm iteratively schedules one train at a time until all more than five hundred trains are accommodated.\nAnother approach is the space-time network model, which discretizes time and space into vertices and examines variables from a different perspective. This offers a more intuitive representation, particularly from a graph theory standpoint, making it easier and more natural to represent the constraints. However, it can become quite challenging when finer time units, such as transitioning from per minute to per second, are required.\nIn this second method, the use of binary variables reusults in explosively large set of constraints, rendering it impossible for any commercial solver to handle efficiently. The trick here involves assigning weights and penalties to violated constraints, effectively transforming the problem into a shortest path problem. Ultimately, a heuristic is employed to approximate a feasible optimal solution. Btw, the heuristic prioritizes faster trains initially and then accommodates slower trains in the schedule.\nIn the high-level Train Timetabling Problem (TTP), the COPT solver efficiently addresses the issue within a mere 20 minutes. When it comes to the intermediate Train Platform Problem (TPP), the solver requires approximately 2 hours to find a solution. However, in the realm of human planning, it takes a dedicated team of experienced planners at least a week to accomplish the same task. This stark contrast in timeframes underscores the remarkable efficiency and effectiveness of automated solvers in handling these complex scheduling challenges.\n",
  "wordCount" : "523",
  "inLanguage": "en",
  "image":"//localhost:1313/data_vis/spiderman.jpeg","datePublished": "2023-10-10T18:37:39+08:00",
  "dateModified": "2023-10-10T18:37:39+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "//localhost:1313/posts/trains/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ariana's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "//localhost:1313/favicon.ico"
    }
  }
}
</script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Product+Sans:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="//localhost:1313/css/custom.b017fc6c61ff4eacd2943e3c9726e1a935c706d1ea1a1b7c17773e63b47342d3.css">
    
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-16651897053">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-16651897053');
</script>

<script>
  gtag('event', 'conversion', {
      'send_to': 'AW-16651897053/wjItCK3FisUZEN2Rn4Q-',
      'value': 1.0,
      'currency': 'USD'
  });
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=AW-16651897053"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-16651897053');
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="//localhost:1313/" accesskey="h" title="ariana&#39;s blog (Alt + H)">ariana&#39;s blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="//localhost:1313/search" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/archives" title="archive">
                    <span>archive</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/posts/tags" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/posts/pinned" title="about me">
                    <span>about me</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/procrastination_bulletin" title="pending ideas">
                    <span>pending ideas</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      train timetabling problem
    </h1>
    <div class="post-meta"><span title='2023-10-10 18:37:39 +0800 +0800'>October 10, 2023</span>

</div>
  </header>
  <div class="post-content"><p>Apologize for the deviation from my work this afternoon, I attended an introductory talk on train scheduling in the neighboring department. Here are some key takeaways:</p>
<p>This problem is known as the high level &ldquo;<strong>train timetabling problem</strong>&rdquo; (TTP) and lower level intermediate &ldquo;<strong>train platform problem</strong>&rdquo; (TPP). This is not just a profitable business, but a complex issue that affects the welfare of millions of travelers. The primary objectives here are <strong>service level, operational cost, safety issue</strong>. The challenge lies in the sheer scale of the problem, with huge number of complicated constraints to consider, model and solve, encompassing both the train timetabling problem (TTP) and the train platform problem (TPP). Unlike metro planning, where trains uniformly stop at every station, the complexity of train scheduling arises from the multitude of schedules and train types and the various specific issue related to, well, driving such high-speed vehicle.</p>
<figure class="align-center ">
    <img loading="lazy" src="/data_vis/spiderman.jpeg#center"
         alt="it&rsquo;s like planning your daily schedule. it&rsquo;s OK to test and hypothetically picture exploding the deadlines. but you&rsquo;ll have to get the shits done no matter what"/> <figcaption>
            <p>it&rsquo;s like planning your daily schedule. it&rsquo;s OK to test and hypothetically picture exploding the deadlines. but you&rsquo;ll have to get the shits done no matter what</p>
        </figcaption>
</figure>

<p>Interestingly, this morning, I was listening to a podcast about the operational and revenue management of airline companies, and now, in the afternoon, we&rsquo;re delving into trains. It&rsquo;s noteworthy that OR/OM thrive in hyper-scale industries. The less human interest a problem generates and the more mundane it appears, the greater the room for profit through automated optimization.</p>
<p>Naturally, this problem leads to Mixed-Integer Programming (MIP). One approach to optimization is the Job Shop model, which the schedule in a natural manner, optimizes from the highest level and then sends the schedule to each station to assess feasibility at a more intermediate scale. During this stage, additional low-level constraints are integrated into the system. This algorithm iteratively schedules one train at a time until all more than five hundred trains are accommodated.</p>
<p>Another approach is the space-time network model, which discretizes time and space into vertices and examines variables from a different perspective. This offers a more intuitive representation, particularly from a graph theory standpoint, making it easier and more natural to represent the constraints. However, it can become quite challenging when finer time units, such as transitioning from per minute to per second, are required.</p>
<p>In this second method, the use of binary variables reusults in explosively large set of constraints, rendering it impossible for any commercial solver to handle efficiently. The trick here involves assigning weights and penalties to violated constraints, effectively transforming the problem into a shortest path problem. Ultimately, a heuristic is employed to approximate a feasible optimal solution. Btw, the heuristic prioritizes faster trains initially and then accommodates slower trains in the schedule.</p>
<p>In the high-level Train Timetabling Problem (TTP), the COPT solver efficiently addresses the issue within a mere 20 minutes. When it comes to the intermediate Train Platform Problem (TPP), the solver requires approximately 2 hours to find a solution. However, in the realm of human planning, it takes a dedicated team of experienced planners at least a week to accomplish the same task. This stark contrast in timeframes underscores the remarkable efficiency and effectiveness of automated solvers in handling these complex scheduling challenges.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="//localhost:1313/">ariana&#39;s blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script id="usercentrics-cmp" src="https://web.cmp.usercentrics.eu/ui/loader.js" data-settings-id="_KlbvhaKistzRA" async></script>

</body>

</html>
