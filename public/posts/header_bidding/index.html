<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>DOJ vs. Google | Waterfall Auction -&gt; Header Bidding -&gt; Open Bidding, All Explained | ariana&#39;s blog</title>
<meta name="keywords" content="">
<meta name="description" content="Here&rsquo;s your Sunday cuppa tea, or wine if you&rsquo;d need for today&rsquo;s juicy content: what has Google done wrong, for real?
Today let&rsquo;s drink the richest blend—how they manipulated their auction mechanism to secure monopoly—according to the DOJ&rsquo;s filed complaint.
Related blogs about DOJ vs. Google: DOJ&rsquo;s complaints overview, and break down Part I and Part II.
before we begin, here&rsquo;s a quick recap:
A quick look at the complete market:

     
            The &lsquo;ad-tech stack&rsquo;, from the left (publishers) selling to the left (advertisers)">
<meta name="author" content="">
<link rel="canonical" href="//localhost:1313/posts/header_bidding/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="//localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="//localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="//localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="//localhost:1313/posts/header_bidding/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js" integrity="sha384-cpW21h6RZv/phavutF+AuVYrr+dA8xD9zs6FwLpaCct6O9ctzYFfFr4dgmgccOTx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>




<meta property="og:url" content="//localhost:1313/posts/header_bidding/">
  <meta property="og:site_name" content="ariana&#39;s blog">
  <meta property="og:title" content="DOJ vs. Google | Waterfall Auction -&gt; Header Bidding -&gt; Open Bidding, All Explained">
  <meta property="og:description" content="Here’s your Sunday cuppa tea, or wine if you’d need for today’s juicy content: what has Google done wrong, for real?
Today let’s drink the richest blend—how they manipulated their auction mechanism to secure monopoly—according to the DOJ’s filed complaint.
Related blogs about DOJ vs. Google: DOJ’s complaints overview, and break down Part I and Part II.
before we begin, here’s a quick recap: A quick look at the complete market:
The ‘ad-tech stack’, from the left (publishers) selling to the left (advertisers)">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-22T00:00:36+08:00">
    <meta property="article:modified_time" content="2024-09-22T00:00:36+08:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DOJ vs. Google | Waterfall Auction -&gt; Header Bidding -&gt; Open Bidding, All Explained">
<meta name="twitter:description" content="Here&rsquo;s your Sunday cuppa tea, or wine if you&rsquo;d need for today&rsquo;s juicy content: what has Google done wrong, for real?
Today let&rsquo;s drink the richest blend—how they manipulated their auction mechanism to secure monopoly—according to the DOJ&rsquo;s filed complaint.
Related blogs about DOJ vs. Google: DOJ&rsquo;s complaints overview, and break down Part I and Part II.
before we begin, here&rsquo;s a quick recap:
A quick look at the complete market:

     
            The &lsquo;ad-tech stack&rsquo;, from the left (publishers) selling to the left (advertisers)">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "//localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "DOJ vs. Google | Waterfall Auction -\u003e Header Bidding -\u003e Open Bidding, All Explained",
      "item": "//localhost:1313/posts/header_bidding/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "DOJ vs. Google | Waterfall Auction -\u003e Header Bidding -\u003e Open Bidding, All Explained",
  "name": "DOJ vs. Google | Waterfall Auction -\u003e Header Bidding -\u003e Open Bidding, All Explained",
  "description": "Here\u0026rsquo;s your Sunday cuppa tea, or wine if you\u0026rsquo;d need for today\u0026rsquo;s juicy content: what has Google done wrong, for real?\nToday let\u0026rsquo;s drink the richest blend—how they manipulated their auction mechanism to secure monopoly—according to the DOJ\u0026rsquo;s filed complaint.\nRelated blogs about DOJ vs. Google: DOJ\u0026rsquo;s complaints overview, and break down Part I and Part II.\nbefore we begin, here\u0026rsquo;s a quick recap: A quick look at the complete market:\nThe \u0026lsquo;ad-tech stack\u0026rsquo;, from the left (publishers) selling to the left (advertisers)\n",
  "keywords": [
    
  ],
  "articleBody": "Here’s your Sunday cuppa tea, or wine if you’d need for today’s juicy content: what has Google done wrong, for real?\nToday let’s drink the richest blend—how they manipulated their auction mechanism to secure monopoly—according to the DOJ’s filed complaint.\nRelated blogs about DOJ vs. Google: DOJ’s complaints overview, and break down Part I and Part II.\nbefore we begin, here’s a quick recap: A quick look at the complete market:\nThe ‘ad-tech stack’, from the left (publishers) selling to the left (advertisers)\nToday we focus on ad-exchanges, when they compete to buy impressions from publisher’s ad-server:\nToday we focus on Ad server selling impressions to ad exchanges (and general buyers who purchase impressions, like demand-side platforms).\nGoogle’s monopolistic maneuvers are mostly straightforward: acquire every piece of the vertical market puzzle—ad servers for publishers, ad exchanges in the middle, and advertiser buying tools (ad networks and demand-side platforms).\nAfter monopolizing every vertical market, Google grants itself somewhat exclusive access. This primarily manifests in two ways: its advertiser buying tools favor Google’s own ad exchange, AdX, and its ad server, DFP, sells to AdX in an unfair manner.\nToday’s discussion focuses on the latter—how Google’s monopoly ad server, DFP, sells its ad inventory (aka impressions) to multiple potentially competing ad exchanges. Our general storyline involves three stages of the selling mechanism:\nEra 1.0: Waterfall Auction – An almost obsolete sequential selling mechanism used by Google’s DFP to prioritize Google’s own ad exchange, AdX. Era 2.0: Publisher’s Fight-Back – Publishers introduce competition by implementing real-time bidding mechanisms (using HTML code in their headers) to sell to multiple ad exchanges. Era 3.0: Open Bidding – Google develops open bidding, a diluted real-time bidding auction run on Google’s own ad server. All is fair in love and war, but not when the other side is the mechanism designer.\nSale Mechanism 1.0: Waterfall Auction Here’s how it goes: Google’s ad server, DFP (DoubleClick for Publishers), managed ad inventory—those precious impressions on publishers’ websites sold to ad exchanges. Initially, Google’s DFP’s selling mechanism was a waterfall auction with a first-look advantage for Google’s ad-exchange buyer, AdX.\nThis sequential auction operated with a reserve price, where publishers specified a priority list of ad exchanges (or general buyers) based on historical prices and set a reserve price. Each ad exchange bids, if their price is more than the reserve price, they get the impression and the sequence stops—note, the buyers except Ad-Exchange does NOT know the reserve price.\nFirst-Look Advantage Since Google’s ad server (DFP) dominates over 80% of the market, and so does AdX—the main ad exchange—Google naturally favors itself. Specifically:\nPriority Listing: Google’s AdX is always first on the priority list. Informational Advantage: Unlike other ad exchanges that bid blindly, AdX has access to the reserve price and more cookie data, allowing it to better estimate the value of an impression. As a result, AdX often purchases better impressions at lower prices, reinforcing its popularity on both sides and further entrenching Google’s monopoly.\nSale Mechanism 2.0: Header Bidding When selling impressions, it’s obviously better to directly pick the highest-value bidder and sell to them, instead of inquiring one by one. Classical results from prophet inequality suggest that sequential auctions can lose up to half the potential value. Add Google’s preferential placement of AdX at the top of the sequence, and the inefficiency—and favoritism—further distorts the game and dampens revenue of the publishers.\nPublishers want to make more money out of their ad inventories. What do you do if your ad server sucks? You build open, real-time competition by yourself:\nheader bidding Header bidding worked as follows: publishers inserted certain computer code into the “header” section of the HTML code of a web page. This code triggered a real-time auction among ad exchanges before the publisher’s web page called the publisher ad server.\nHowever, note that this “header bidding” is virtual—it’s a pre-auction that gauges the value of the ad exchanges to set a better reserve price.\nLast-Look Advantage Despite its benefits, header bidding requires Google’s ad server (DFP) to process the reserve price, and DFP share it with AdX exclusively—granting AdX a last-look informational advantage over rival ad exchanges. If even one advertiser in AdX is willing to meet the reserve price, AdX wins the impression.\nThe Crisis Brought by Header Bidding to Google Despite header bidding being beneficial for publishers and potentially good for advertisers, Google saw it as a threat to its monopoly power. According to the DOJ’s filing:\n…a 2016 Google internal presentation noted “header bidding and header wrappers are BETTER than [Google’s platforms] for buyers and sellers.”\nIn practice, header bidding dramatically improved the competitiveness of rival ad exchanges. By allowing a publisher to call multiple ad exchanges in real time—effectively multi-homing at the ad exchange level—header bidding vastly increased the amount of inventory rival ad exchanges could offer their advertisers.\nRival ad exchanges growing would not be good for Google’s peaceful reign. Even worse, some tech companies seized this opportunity and attempted to scale up the deployment of header bidding:\nBuilding on the success of early client-side header bidding (where publishers write their own HTML code), several companies invested in developing innovative, free or low-cost tools (called “wrappers”) that enabled “server-side” header bidding.\nThis new form allowed the header of a web page to call a single server, which then sent requests to multiple ad exchanges. Each ad exchange returned a bid to the server, which in turn passed the winning bid to the web page. Server-side header bidding turbocharged the scale benefits by reducing integration costs and improving the user experience by lowering latency.\nAccording to the DOJ’s investigation, Google viewed header bidding—and particularly server-side header bidding—as a direct and, in the words of a 2016 internal strategy paper, “existential threat” to its amassed market power.\nEnough is enough. The market behemoth needed to take action to quell these “authoritarian intermediary” competitors. For real.\nSale Mechanism 3.0: Open Bidding The good old days without competition for Google are over. If an auction is unavoidable, Google figured, “Why not be both the auctioneer and the bidder?”\nTurns out, doing so would make things much easier. Google introduced Open Bidding:\nExternally, Google portrayed Open Bidding as an improvement to header bidding that created a real-time bidding auction with multiple ad exchanges, similar to header bidding, but on Google’s servers to reduce latency.\nBut it turned out to be a Trojan horse smuggled into the innocent city of fair competition. Google sneakily manipulated Open Bidding to disadvantage rival ad exchanges in several ways, as accused by the DOJ:\nTransaction Fees: Google charges fees on every transaction over Open Bidding runned on Google’s ad server (DFP). Bid Restrictions: Google prohibites ad exchanges’ own advertiser-buying tools from bidding in Open Bidding auctions while allowing Google’s tools to participate. Information Control: Google takes “care” of the information flow during every transaction, hence maximizing their own informational advantage while minimizing the information access between publishers and rival ad exchanges—for example, only Google’s ad exchange, AdX, can see more cookie information and, vitally, the bids of other ad exchanges. Come on, in a sealed-bid auction, isn’t everyone supposed to play fair and not peek at others’ bids? But Google seems to have found the auctioneer’s secret decoder ring. Despite more competition in the era of open-bidding, Google still is the gatekeeper of its AdX’s monopoly power in the ad exchange market.\nLastly, the DOJ summarized Google’s actions in solidifying its monopoly:\n(a) Google Develops So-Called Open Bidding, Its Own Google-Friendly Version of Header Bidding To Preserve Its Control Over the Sale of Publisher Inventory\n(b) Google Further Stunts Header Bidding by Working to Bring Facebook and Amazon into Its Open Bidding Fold\n(c) Google Manipulates Its Publisher Fees Using Dynamic Revenue Sharing in Order to Route More Transactions Through Its Ad Exchange and Deny Scale to Rival Ad Exchanges Using Header Bidding\n(d) Google Launches Project Poirot to Manipulate Its Advertisers’ Spend to “Dry Out” and Deny Scale to Rival Ad Exchanges That Use Header Bidding\n(e) Google Imposes So-Called Unified Pricing Rules to Deprive Publishers of Control and Force More Transactions Through Google’s Ad Exchange\n(f) Google Outright Blocks the Use of Standard Header Bidding on Accelerated Mobile Pages\n(g) Google Replaces Its Last Look Preference from Dynamic Allocation with an Algorithmic Advantage and Degrades Data Available to Publishers\nAnd the last piece of the puzzle is complete, revealing the full map of Google’s monopoly.\nreference U.S. Department of Justice, Antitrust Division. (2023). U.S. and Plaintiff States v. Google LLC [2023] - Trial Exhibits. Retrieved from https://www.justice.gov/atr/us-and-plaintiff-states-v-google-llc-2023-trial-exhibits\nU.S. Department of Justice, Office of Public Affairs. (2023). Justice Department Sues Google for Monopolizing Digital Advertising Technologies. Retrieved from https://www.justice.gov/opa/pr/justice-department-sues-google-monopolizing-digital-advertising-technologies\n",
  "wordCount" : "1451",
  "inLanguage": "en",
  "datePublished": "2024-09-22T00:00:36+08:00",
  "dateModified": "2024-09-22T00:00:36+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "//localhost:1313/posts/header_bidding/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ariana's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "//localhost:1313/favicon.ico"
    }
  }
}
</script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Product+Sans:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="//localhost:1313/css/custom.b017fc6c61ff4eacd2943e3c9726e1a935c706d1ea1a1b7c17773e63b47342d3.css">
    
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-16651897053">
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-16651897053');
</script>

<script>
  gtag('event', 'conversion', {
      'send_to': 'AW-16651897053/wjItCK3FisUZEN2Rn4Q-',
      'value': 1.0,
      'currency': 'USD'
  });
</script>


<script async src="https://www.googletagmanager.com/gtag/js?id=AW-16651897053"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-16651897053');
</script>

</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="//localhost:1313/" accesskey="h" title="ariana&#39;s blog (Alt + H)">ariana&#39;s blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="//localhost:1313/search" title="search (Alt &#43; /)" accesskey=/>
                    <span>search</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/archives" title="archive">
                    <span>archive</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/posts/tags" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/posts/pinned" title="about me">
                    <span>about me</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/procrastination_bulletin" title="pending ideas">
                    <span>pending ideas</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      DOJ vs. Google | Waterfall Auction -&gt; Header Bidding -&gt; Open Bidding, All Explained
    </h1>
    <div class="post-meta"><span title='2024-09-22 00:00:36 +0800 +0800'>September 22, 2024</span>

</div>
  </header>
  <div class="post-content"><p>Here&rsquo;s your Sunday cuppa tea, or wine if you&rsquo;d need for today&rsquo;s juicy content: what has Google done wrong, for real?</p>
<p>Today let&rsquo;s drink the richest blend—how they manipulated their auction mechanism to secure monopoly—according to the DOJ&rsquo;s filed complaint.</p>
<p>Related blogs about DOJ vs. Google: <a href="/posts/dojs_complaint/">DOJ&rsquo;s complaints overview</a>, and break down <a href="posts/dojs_complaint_full/">Part I</a> and <a href="/posts/dojs_complaint_full_1/">Part II</a>.</p>
<h2 id="before-we-begin-heres-a-quick-recap">before we begin, here&rsquo;s a quick recap:<a hidden class="anchor" aria-hidden="true" href="#before-we-begin-heres-a-quick-recap">#</a></h2>
<p><em>A quick look at the complete market:</em></p>
<figure class="align-center ">
    <img loading="lazy" src="/google_ad_gossip/advertiser_buying_tool.jpeg#center"
         alt="The &lsquo;ad-tech stack&rsquo;, from the left (publishers) selling to the left (advertisers)" width="96%"/> <figcaption>
            <p>The &lsquo;ad-tech <strong>stack</strong>&rsquo;, from the left (publishers) selling to the left (advertisers)</p>
        </figcaption>
</figure>

<p>Today we focus on ad-exchanges, when they compete to buy impressions from publisher&rsquo;s ad-server:</p>
<figure class="align-center ">
    <img loading="lazy" src="/google_ad_gossip/ad_exchange.jpeg#center"
         alt="Today we focus on Ad server selling impressions to ad exchanges (and general buyers who purchase impressions, like demand-side platforms)." width="96%"/> <figcaption>
            <p>Today we focus on <strong>Ad server</strong> selling impressions to <strong>ad exchanges</strong> (and general buyers who purchase impressions, like demand-side platforms).</p>
        </figcaption>
</figure>

<p>Google&rsquo;s monopolistic maneuvers are mostly straightforward: acquire every piece of the vertical market puzzle—ad servers for publishers, ad exchanges in the middle, and advertiser buying tools (ad networks and demand-side platforms).</p>
<p>After monopolizing every vertical market, Google grants itself somewhat exclusive access. This primarily manifests in two ways: <strong>its advertiser buying tools favor Google&rsquo;s own ad exchange, AdX, and its ad server, DFP, sells to AdX in an unfair manner.</strong></p>
<p>Today&rsquo;s discussion focuses on the latter—how Google&rsquo;s monopoly ad server, DFP, sells its ad inventory (aka impressions) to multiple potentially competing ad exchanges. Our general storyline involves three stages of the selling mechanism:</p>
<ol>
<li><strong>Era 1.0: Waterfall Auction</strong> – An almost obsolete sequential selling mechanism used by Google&rsquo;s DFP to prioritize Google&rsquo;s own ad exchange, AdX.</li>
<li><strong>Era 2.0: Publisher’s Fight-Back</strong> – Publishers introduce competition by implementing real-time bidding mechanisms (using HTML code in their headers) to sell to multiple ad exchanges.</li>
<li><strong>Era 3.0: Open Bidding</strong> – Google develops open bidding, a diluted real-time bidding auction run on Google&rsquo;s own ad server.</li>
</ol>
<p>All is fair in love and war, but not when the other side is the mechanism designer.</p>
<h2 id="sale-mechanism-10-waterfall-auction">Sale Mechanism 1.0: Waterfall Auction<a hidden class="anchor" aria-hidden="true" href="#sale-mechanism-10-waterfall-auction">#</a></h2>
<p>Here&rsquo;s how it goes: Google&rsquo;s ad server, DFP (<strong>DoubleClick for Publishers</strong>), managed ad inventory—those precious impressions on publishers&rsquo; websites sold to ad exchanges. Initially, Google&rsquo;s DFP&rsquo;s selling mechanism was a <strong>waterfall auction</strong> with a first-look advantage for Google&rsquo;s ad-exchange buyer, AdX.</p>
<p>This sequential auction operated with a reserve price, where publishers specified a priority list of ad exchanges (or general buyers) based on historical prices and set a <strong>reserve price</strong>. Each ad exchange bids, if their price is more than the reserve price, they get the impression and the sequence stops—note, the buyers except Ad-Exchange does <strong>NOT</strong> know the reserve price.</p>
<h3 id="first-look-advantage">First-Look Advantage<a hidden class="anchor" aria-hidden="true" href="#first-look-advantage">#</a></h3>
<p>Since Google&rsquo;s ad server (DFP) dominates over 80% of the market, and so does AdX—the main ad exchange—Google naturally favors itself. Specifically:</p>
<ol>
<li><strong>Priority Listing:</strong> Google&rsquo;s AdX is always first on the priority list.</li>
<li><strong>Informational Advantage:</strong> Unlike other ad exchanges that bid blindly, AdX has access to the reserve price and more cookie data, allowing it to better estimate the value of an impression.</li>
</ol>
<p>As a result, AdX often purchases better impressions at lower prices, reinforcing its popularity on both sides and further entrenching Google&rsquo;s monopoly.</p>
<h2 id="sale-mechanism-20-header-bidding">Sale Mechanism 2.0: Header Bidding<a hidden class="anchor" aria-hidden="true" href="#sale-mechanism-20-header-bidding">#</a></h2>
<p>When selling impressions, it&rsquo;s obviously better to directly pick the highest-value bidder and sell to them, instead of inquiring one by one. Classical results from prophet inequality suggest that sequential auctions can lose up to half the potential value. Add Google&rsquo;s preferential placement of AdX at the top of the sequence, and the inefficiency—and favoritism—further distorts the game and dampens revenue of the publishers.</p>
<p>Publishers want to make more money out of their ad inventories. What do you do if your ad server sucks? You build open, real-time competition by yourself:</p>
<blockquote>
<h3 id="header-bidding">header bidding<a hidden class="anchor" aria-hidden="true" href="#header-bidding">#</a></h3>
<p>Header bidding worked as follows: publishers inserted certain computer code into the “header” section of the HTML code of a web page. This code triggered a real-time auction among ad exchanges <em>before</em> the publisher’s web page called the publisher ad server.</p>
</blockquote>
<p>However, note that this &ldquo;header bidding&rdquo; is virtual—it&rsquo;s a pre-auction that gauges the value of the ad exchanges to set a better reserve price.</p>
<h3 id="last-look-advantage">Last-Look Advantage<a hidden class="anchor" aria-hidden="true" href="#last-look-advantage">#</a></h3>
<p>Despite its benefits, header bidding requires Google&rsquo;s ad server (DFP) to process the reserve price, and DFP share it with AdX exclusively—granting AdX a <strong>last-look</strong> informational advantage over rival ad exchanges. If even one advertiser in AdX is willing to meet the reserve price, AdX wins the impression.</p>
<h3 id="the-crisis-brought-by-header-bidding-to-google">The Crisis Brought by Header Bidding to Google<a hidden class="anchor" aria-hidden="true" href="#the-crisis-brought-by-header-bidding-to-google">#</a></h3>
<p>Despite header bidding being beneficial for publishers and potentially good for advertisers, Google saw it as a threat to its monopoly power. According to the DOJ&rsquo;s filing:</p>
<blockquote>
<p>&hellip;a 2016 Google internal presentation noted “header bidding and header wrappers are BETTER than [Google’s platforms] for buyers and sellers.”</p>
<p>In practice, header bidding dramatically improved the competitiveness of rival ad exchanges. By allowing a publisher to call multiple ad exchanges in real time—effectively multi-homing at the ad exchange level—header bidding vastly increased the amount of inventory rival ad exchanges could offer their advertisers.</p>
</blockquote>
<p>Rival ad exchanges growing would not be good for Google&rsquo;s peaceful reign. Even worse, some tech companies seized this opportunity and attempted to scale up the deployment of header bidding:</p>
<blockquote>
<p>Building on the success of early client-side header bidding (where publishers write their own HTML code), several companies invested in developing innovative, free or low-cost tools (called “wrappers”) that enabled “server-side” header bidding.</p>
<p>This new form allowed the header of a web page to call a single server, which then sent requests to multiple ad exchanges. Each ad exchange returned a bid to the server, which in turn passed the winning bid to the web page. Server-side header bidding turbocharged the scale benefits by reducing integration costs and improving the user experience by lowering latency.</p>
</blockquote>
<p>According to the DOJ&rsquo;s investigation, Google viewed header bidding—and particularly server-side header bidding—as a direct and, in the words of a 2016 internal strategy paper, <strong>“existential threat”</strong> to its amassed market power.</p>
<p>Enough is enough. The market behemoth needed to take action to quell these &ldquo;authoritarian intermediary&rdquo; competitors. For real.</p>
<h2 id="sale-mechanism-30-open-bidding">Sale Mechanism 3.0: Open Bidding<a hidden class="anchor" aria-hidden="true" href="#sale-mechanism-30-open-bidding">#</a></h2>
<p>The good old days without competition for Google are over. If an auction is unavoidable, Google figured, &ldquo;Why not be both the auctioneer <strong>and</strong> the bidder?&rdquo;</p>
<p>Turns out, doing so would make things much easier. Google introduced <strong>Open Bidding</strong>:</p>
<blockquote>
<p>Externally, Google portrayed Open Bidding as an improvement to header bidding that created a real-time bidding auction with multiple ad exchanges, similar to header bidding, but on Google’s servers to reduce latency.</p>
</blockquote>
<p>But it turned out to be a Trojan horse smuggled into the innocent city of fair competition. Google sneakily manipulated Open Bidding to disadvantage rival ad exchanges in several ways, as accused by the DOJ:</p>
<ul>
<li><strong>Transaction Fees:</strong> Google charges fees on every transaction over Open Bidding runned on Google&rsquo;s ad server (DFP).</li>
<li><strong>Bid Restrictions:</strong> Google prohibites ad exchanges&rsquo; own advertiser-buying tools from bidding in Open Bidding auctions while allowing Google&rsquo;s tools to participate.</li>
<li><strong>Information Control:</strong> Google takes &ldquo;<em>care</em>&rdquo; of the information flow during every transaction, hence maximizing their own informational advantage while minimizing the information access between publishers and rival ad exchanges—for example, only Google&rsquo;s ad exchange, AdX, can see more cookie information and, vitally, <strong>the bids of other ad exchanges.</strong></li>
</ul>
<p>Come on, in a sealed-bid auction, isn&rsquo;t everyone supposed to play fair and not peek at others&rsquo; bids? But Google seems to have found the auctioneer&rsquo;s secret decoder ring. Despite more competition in the era of open-bidding, Google still is the gatekeeper of its AdX&rsquo;s monopoly power in the ad exchange market.</p>
<p>Lastly, the DOJ summarized Google&rsquo;s actions in solidifying its monopoly:</p>
<blockquote>
<p>(a) <strong>Google Develops So-Called Open Bidding, Its Own Google-Friendly Version of Header Bidding To Preserve Its Control Over the Sale of Publisher Inventory</strong></p>
<p>(b) <strong>Google Further Stunts Header Bidding by Working to Bring Facebook and Amazon into Its Open Bidding Fold</strong></p>
<p>(c) <strong>Google Manipulates Its Publisher Fees Using Dynamic Revenue Sharing in Order to Route More Transactions Through Its Ad Exchange and Deny Scale to Rival Ad Exchanges Using Header Bidding</strong></p>
<p>(d) <strong>Google Launches Project Poirot to Manipulate Its Advertisers’ Spend to “Dry Out” and Deny Scale to Rival Ad Exchanges That Use Header Bidding</strong></p>
<p>(e) <strong>Google Imposes So-Called Unified Pricing Rules to Deprive Publishers of Control and Force More Transactions Through Google’s Ad Exchange</strong></p>
<p>(f) <strong>Google Outright Blocks the Use of Standard Header Bidding on Accelerated Mobile Pages</strong></p>
<p>(g) <strong>Google Replaces Its Last Look Preference from Dynamic Allocation with an Algorithmic Advantage and Degrades Data Available to Publishers</strong></p>
</blockquote>
<p>And the last piece of the puzzle is complete, revealing the full map of Google&rsquo;s monopoly.</p>
<h3 id="reference">reference<a hidden class="anchor" aria-hidden="true" href="#reference">#</a></h3>
<p>U.S. Department of Justice, Antitrust Division. (2023). <em>U.S. and Plaintiff States v. Google LLC [2023] - Trial Exhibits</em>. Retrieved from <a href="https://www.justice.gov/atr/us-and-plaintiff-states-v-google-llc-2023-trial-exhibits">https://www.justice.gov/atr/us-and-plaintiff-states-v-google-llc-2023-trial-exhibits</a></p>
<p>U.S. Department of Justice, Office of Public Affairs. (2023). <em>Justice Department Sues Google for Monopolizing Digital Advertising Technologies</em>. Retrieved from <a href="https://www.justice.gov/opa/pr/justice-department-sues-google-monopolizing-digital-advertising-technologies">https://www.justice.gov/opa/pr/justice-department-sues-google-monopolizing-digital-advertising-technologies</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="//localhost:1313/">ariana&#39;s blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script id="usercentrics-cmp" src="https://web.cmp.usercentrics.eu/ui/loader.js" data-settings-id="_KlbvhaKistzRA" async></script>

</body>

</html>
